{{ define "header" }}
  {{ partial "navbar" }}
{{ end }}

{{ define "main" }}
  <main id="main-content">
    <header class="site-section-header">
      <h1>
        {{ if page.IsSection }}{{ page.Section | title }}
        {{ else }}{{ humanize .Title | title }}{{ end }}
      </h1>
      <p>{{ .Description }}</p>
    </header>

    <div class="centered page-list">
      {{ $pages := where .Pages "draft" "!=" "true" }}
      {{ range $pages }}
        {{ if eq (index .Params.tags 1) "all-characters" }}
          {{ partial "card.html" . }}
        {{ end }}
      {{ end }}
      {{ range $pages }}
        {{ if isset .Params "tags" }}
          {{ if gt (len .Params.tags) 3 }}
            {{ partial "card.html" . }}
          {{ end }}
        {{ end }}
      {{ end }}
      {{ $chars := slice 
        "zetterburn" "orcane" "kragg" "wrastor"
        "forsburn" "etalus" "maypul" "absa"
        "clairen" "ranno" "sylvanos" "elliana"
        "ori" "shovel-knight"
        "mollo" "hodan" "olympia" "pomme"
      }}
      {{ $c := "" }}
      {{ range $chars }}
        {{ $c = . }}
        {{ range $pages }}
          {{ $len := len .Params.tags }}
          {{ if and (eq (index .Params.tags (sub $len 1)) $c) (lt $len 4) }}
            {{ partial "card.html" . }}
          {{ end }}
        {{ end }}
      {{ end }}
    </div>

  </main>
{{ end }}

{{ define "footer" }}
  {{ partial "footer" }}
{{ end }}